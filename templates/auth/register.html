{% extends "base.html" %}

{% block title %}Register - Super Tic-Tac-Toe{% endblock %}

{% block content %}
<!-- Matrix Rain Background -->
<div class="binary-bg" id="binary-background" style="z-index: -999; pointer-events: none; position: fixed;"></div>

<div class="dev-container" style="min-height: 100vh; display: flex; align-items: center; justify-content: center;">
    <div class="dev-card" style="max-width: 500px; width: 100%; padding: 3rem; background: linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(22, 163, 74, 0.05) 100%), var(--dev-black); border: 1px solid rgba(34, 197, 94, 0.2); position: relative; z-index: 2;">
        <div style="text-align: center; margin-bottom: 3rem;">
            <div style="color: var(--dev-green); font-size: 3rem; margin-bottom: 1.5rem;">
                <i class="fas fa-user-plus"></i>
            </div>
            <h2 class="mono" style="color: var(--dev-white); font-size: 1.8rem; margin-bottom: 0.5rem; opacity: 0;"
               data-typewriter="> user_register.exe" data-typewriter-speed="40" data-typewriter-delay="300">
            </h2>
            <p class="mono" style="color: var(--dev-text-gray); font-size: 1rem;">
                Create your account
            </p>
        </div>
        
        <form method="POST" style="display: flex; flex-direction: column; gap: 1.75rem;">
            <div>
                <label for="username" class="mono" style="color: var(--dev-text-gray); font-size: 1rem; margin-bottom: 0.75rem; display: block;">
                    username:
                </label>
                <input id="username" name="username" type="text" required 
                       style="width: 100%; padding: 1rem 1.25rem; background: var(--dev-black); border: 2px solid var(--border-color); border-radius: 6px; color: var(--dev-white); font-family: var(--font-mono); font-size: 1rem; transition: border-color 0.2s;"
                       placeholder="Choose username"
                       onfocus="this.style.borderColor='var(--dev-green)'"
                       onblur="this.style.borderColor='var(--border-color)'">
            </div>
            
            <div>
                <label for="email" class="mono" style="color: var(--dev-text-gray); font-size: 1rem; margin-bottom: 0.75rem; display: block;">
                    email:
                </label>
                <input id="email" name="email" type="email" required
                       style="width: 100%; padding: 1rem 1.25rem; background: var(--dev-black); border: 2px solid var(--border-color); border-radius: 6px; color: var(--dev-white); font-family: var(--font-mono); font-size: 1rem; transition: border-color 0.2s;"
                       placeholder="your@email.com"
                       onfocus="this.style.borderColor='var(--dev-green)'"
                       onblur="this.style.borderColor='var(--border-color)'">
            </div>
            
            <div>
                <label for="password" class="mono" style="color: var(--dev-text-gray); font-size: 1rem; margin-bottom: 0.75rem; display: block;">
                    password:
                </label>
                <input id="password" name="password" type="password" required
                       style="width: 100%; padding: 1rem 1.25rem; background: var(--dev-black); border: 2px solid var(--border-color); border-radius: 6px; color: var(--dev-white); font-family: var(--font-mono); font-size: 1rem; transition: border-color 0.2s;"
                       placeholder="Choose password"
                       onfocus="this.style.borderColor='var(--dev-green)'"
                       onblur="this.style.borderColor='var(--border-color)'">
            </div>

            <div>
                <label for="confirm_password" class="mono" style="color: var(--dev-text-gray); font-size: 1rem; margin-bottom: 0.75rem; display: block;">
                    confirm_password:
                </label>
                <input id="confirm_password" name="confirm_password" type="password" required
                       style="width: 100%; padding: 1rem 1.25rem; background: var(--dev-black); border: 2px solid var(--border-color); border-radius: 6px; color: var(--dev-white); font-family: var(--font-mono); font-size: 1rem; transition: border-color 0.2s;"
                       placeholder="Confirm password"
                       onfocus="this.style.borderColor='var(--dev-green)'"
                       onblur="this.style.borderColor='var(--border-color)'">
            </div>

            <button type="submit" class="mono" style="width: 100%; padding: 1.25rem; background: rgba(34, 197, 94, 0.1); border: 2px solid rgba(34, 197, 94, 0.3); border-radius: 6px; color: var(--dev-green); font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: all 0.2s; margin-top: 1rem;"
                    onmouseover="this.style.background='rgba(34, 197, 94, 0.2)'; this.style.borderColor='rgba(34, 197, 94, 0.5)'"
                    onmouseout="this.style.background='rgba(34, 197, 94, 0.1)'; this.style.borderColor='rgba(34, 197, 94, 0.3)'">
                <i class="fas fa-user-plus" style="margin-right: 0.5rem;"></i>
                Register
            </button>
        </form>

        <div style="text-align: center; margin-top: 3rem; padding-top: 2rem; border-top: 1px solid var(--border-color);">
            <p class="mono" style="color: var(--dev-text-gray); font-size: 1rem; margin-bottom: 1rem;">
                - Already have an account? 
                <a href="{{ url_for('auth.login') }}" style="color: var(--dev-blue); text-decoration: none; font-weight: 500;">login</a>
            </p>
            <p class="mono" style="color: var(--dev-text-gray); font-size: 1rem;">
                - Or <a href="{{ url_for('auth.guest_login') }}" style="color: var(--dev-green); text-decoration: none; font-weight: 500;">play as guest</a>
            </p>
        </div>
    </div>
</div>

<style>
/* Override matrix rain colors to green */
.binary-char {
    color: rgba(34, 197, 94, 0.4) !important;
    text-shadow: 0 0 5px rgba(34, 197, 94, 0.3) !important;
}

@keyframes binaryFall {
    0% {
        transform: translateY(0);
        opacity: 0;
        color: rgba(34, 197, 94, 0.6) !important;
        text-shadow: 0 0 8px rgba(34, 197, 94, 0.4) !important;
    }
    5% {
        opacity: 1;
        color: rgba(34, 197, 94, 0.5) !important;
        text-shadow: 0 0 6px rgba(34, 197, 94, 0.3) !important;
    }
    50% {
        opacity: 0.8;
        color: rgba(34, 197, 94, 0.4) !important;
        text-shadow: 0 0 4px rgba(34, 197, 94, 0.2) !important;
    }
    85% {
        opacity: 0.6;
        color: rgba(34, 197, 94, 0.3) !important;
        text-shadow: 0 0 2px rgba(34, 197, 94, 0.1) !important;
    }
    100% {
        transform: translateY(100vh);
        opacity: 0;
        color: rgba(34, 197, 94, 0.1) !important;
        text-shadow: none !important;
    }
}
</style>

<script>
// Initialize matrix rain on page load
document.addEventListener('DOMContentLoaded', function() {
    startMatrixRain();
});
</script>
{% endblock %}